async function handleAuth() {
    const u = document.getElementById('user').value.trim();
    const p = document.getElementById('pass').value.trim();
    if (!u || !p) return alert("ƒêi·ªÅn ƒë·ªß th√¥ng tin!");

    const btn = document.getElementById('btn');
    btn.innerText = "Ch·ªù t√≠...";

    try {
        await fetch(scriptURL, {
            method: 'POST',
            mode: 'no-cors',
            body: JSON.stringify({
                action: isLogin ? "login" : "register",
                username: u,
                password: p
            })
        });

        if (isLogin) {
            localStorage.setItem("user_logged", "true");
            localStorage.setItem("username", u);

            // üëâ D√íNG QUAN TR·ªåNG
            window.location.href = "./index.html";
        } else {
            alert("ƒêƒÉng k√Ω th√†nh c√¥ng! Gi·ªù h√£y ƒëƒÉng nh·∫≠p.");
            location.reload();
        }
    } catch (e) {
        alert("L·ªói k·∫øt n·ªëi!");
    }

    btn.innerText = "X√ÅC NH·∫¨N";
}







